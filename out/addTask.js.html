<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: addTask.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: addTask.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Downloads all backend Data for addTask section
 */
async function init() {
    await initAllDbData();
    renderAvatar();
}


/**
 * Function that manages the process of creating a new Task
 */
async function addTask() {
    await initAllDbData();
    let title = document.getElementById('title');
    let date = document.getElementById('date');
    let category = document.getElementById('category');
    let urgency = document.getElementById('urgency');
    let description = document.getElementById('description');

    //defines object will all info
    if (selectedUsers.length === 0) {
        alert("Please select Member for this Task");
    } else {
        playDropSound();
        let task = {
            "title": title.value,
            "assignedMember": selectedUsers,
            "date": date.value,
            "category": category.value,
            "urgency": urgency.value,
            "description": description.value,
            "createdAt": new Date().getTime(),
            "status": "backlog",
            "lastEdit": ""
        };
        await pushTaskToBackend(task);
        selectedUsers = [];
        document.getElementById("memberBox").innerHTML = "";
        document.getElementById("taskForm").reset();
        displaySuccessMessage();
        setTimeout(init, 1500);
        setTimeout(hideSuccessMessage, 1500);
    };
}


/**
 * Unhides success container
 */
function displaySuccessMessage() {
    let success = document.getElementById("successBox");
    success.innerHTML = "Task safed!";
    success.classList.remove('d-none');
}


/**
 * Hides success container
 */
function hideSuccessMessage() {
    let success = document.getElementById("successBox");
    success.innerHTML = "";
    success.classList.add('d-none');
}


/**
 * Function safes the new Task to the Backend
 * 
 * @param {string} task - all Informations that has been selected for new Task
 */
async function pushTaskToBackend(task) {
    allTasks.push(task);
    await setBoardTask();
    await setTask();
}


/**
 * Clears Form inputs
 */
function cancelTask() {
    document.getElementById("taskForm").reset();
}


/**
 * Unhides Memberlist for Task creation
 */
function openMemberList() {
    renderAvatar();
    document.getElementById('avatarPicker').classList.remove('d-none');
    document.getElementById('transparentContainerAddTask').classList.remove('d-none');
}


/**
 * Hides Memberlist for Task creation
 */
function closeMemberList() {
    document.getElementById('avatarPicker').classList.add('d-none');
    document.getElementById('transparentContainerAddTask').classList.add('d-none');
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#addTask">addTask</a></li><li><a href="global.html#allowDrop">allowDrop</a></li><li><a href="global.html#allTasks">allTasks</a></li><li><a href="global.html#assignedToBox">assignedToBox</a></li><li><a href="global.html#AUDIO_DRAG">AUDIO_DRAG</a></li><li><a href="global.html#backlogHTML">backlogHTML</a></li><li><a href="global.html#cancelTask">cancelTask</a></li><li><a href="global.html#checkEmailMatchesPassword">checkEmailMatchesPassword</a></li><li><a href="global.html#closeHelp">closeHelp</a></li><li><a href="global.html#closeMemberList">closeMemberList</a></li><li><a href="global.html#closeNavBar">closeNavBar</a></li><li><a href="global.html#closeSideBar">closeSideBar</a></li><li><a href="global.html#closeTaskInfoCard">closeTaskInfoCard</a></li><li><a href="global.html#currentDraggedElement">currentDraggedElement</a></li><li><a href="global.html#customizeApp">customizeApp</a></li><li><a href="global.html#deleteAllData">deleteAllData</a></li><li><a href="global.html#deleteBoardDb">deleteBoardDb</a></li><li><a href="global.html#deleteBoardTask">deleteBoardTask</a></li><li><a href="global.html#deleteTaskBacklog">deleteTaskBacklog</a></li><li><a href="global.html#deleteTaskDb">deleteTaskDb</a></li><li><a href="global.html#deleteTeam">deleteTeam</a></li><li><a href="global.html#displaySuccessMessage">displaySuccessMessage</a></li><li><a href="global.html#donotclose">donotclose</a></li><li><a href="global.html#dragOverDeleteArea">dragOverDeleteArea</a></li><li><a href="global.html#editDescription">editDescription</a></li><li><a href="global.html#findOutWhoLoggedIn">findOutWhoLoggedIn</a></li><li><a href="global.html#getBorderColor">getBorderColor</a></li><li><a href="global.html#getCurrentMember">getCurrentMember</a></li><li><a href="global.html#getTaskMembers">getTaskMembers</a></li><li><a href="global.html#getTaskMembersforInfoCard">getTaskMembersforInfoCard</a></li><li><a href="global.html#getTeam">getTeam</a></li><li><a href="global.html#getUrgencyBackground">getUrgencyBackground</a></li><li><a href="global.html#hideDeleteArea">hideDeleteArea</a></li><li><a href="global.html#hideSuccessMessage">hideSuccessMessage</a></li><li><a href="global.html#highlight">highlight</a></li><li><a href="global.html#init">init</a></li><li><a href="global.html#initAllDbData">initAllDbData</a></li><li><a href="global.html#initBacklogDB">initBacklogDB</a></li><li><a href="global.html#initBacklogProcess">initBacklogProcess</a></li><li><a href="global.html#initBoard">initBoard</a></li><li><a href="global.html#initBoardDB">initBoardDB</a></li><li><a href="global.html#loadJSONFromServer">loadJSONFromServer</a></li><li><a href="global.html#login">login</a></li><li><a href="global.html#moveTo">moveTo</a></li><li><a href="global.html#openHelp">openHelp</a></li><li><a href="global.html#openMemberList">openMemberList</a></li><li><a href="global.html#openNavBar">openNavBar</a></li><li><a href="global.html#openSideBar">openSideBar</a></li><li><a href="global.html#openTaskInfoCard">openTaskInfoCard</a></li><li><a href="global.html#playDragSound">playDragSound</a></li><li><a href="global.html#pushTaskToBackend">pushTaskToBackend</a></li><li><a href="global.html#pushTaskToBoard">pushTaskToBoard</a></li><li><a href="global.html#removeHighlight">removeHighlight</a></li><li><a href="global.html#renderAssignedMembersForEachTask">renderAssignedMembersForEachTask</a></li><li><a href="global.html#renderAssignedToHTML">renderAssignedToHTML</a></li><li><a href="global.html#renderAvatar">renderAvatar</a></li><li><a href="global.html#renderInfoCardHTML">renderInfoCardHTML</a></li><li><a href="global.html#renderTaskHTML">renderTaskHTML</a></li><li><a href="global.html#renderTasks">renderTasks</a></li><li><a href="global.html#renderTasksToBoard">renderTasksToBoard</a></li><li><a href="global.html#renderUrgencyForEachTask">renderUrgencyForEachTask</a></li><li><a href="global.html#resetDeleteArea">resetDeleteArea</a></li><li><a href="global.html#saveJSONToServer">saveJSONToServer</a></li><li><a href="global.html#selectUser">selectUser</a></li><li><a href="global.html#setBoardTask">setBoardTask</a></li><li><a href="global.html#setCurrentMember">setCurrentMember</a></li><li><a href="global.html#setTask">setTask</a></li><li><a href="global.html#setTeam">setTeam</a></li><li><a href="global.html#showDeleteArea">showDeleteArea</a></li><li><a href="global.html#signUp">signUp</a></li><li><a href="global.html#startDragging">startDragging</a></li><li><a href="global.html#unSelectUser">unSelectUser</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.11</a> on Mon Sep 05 2022 16:28:03 GMT+0200 (Mitteleurop√§ische Sommerzeit)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
